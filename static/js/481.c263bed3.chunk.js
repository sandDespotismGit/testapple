"use strict";(self.webpackChunkapplepods_react=self.webpackChunkapplepods_react||[]).push([[481],{4481:function(e,t,o){o.r(t);var r=o(7762),i=o(9439),a=o(9705),s=o(6671),l=o(2791),n=(o(6497),o(7576),o(6593),o(8870)),d=o(184);t.default=function(){(0,a.oc)();var e=(0,l.useState)(["\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","\u0446\u0435\u043d\u0430",["url","url"]]),t=(0,i.Z)(e,2),o=t[0],c=t[1],u=window.Telegram.WebApp,p=(0,l.useState)(""),h=(0,i.Z)(p,2),v=h[0],b=h[1],f=(0,l.useState)("\u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0435"),x=(0,i.Z)(f,2),j=x[0],w=x[1],_=(0,l.useState)(""),g=(0,i.Z)(_,2),m=g[0],y=g[1],C=(0,l.useState)(""),k=(0,i.Z)(C,2),Z=k[0],P=k[1],G=(0,l.useState)(0),S=(0,i.Z)(G,2),N=S[0],R=S[1],W=(0,l.useState)("RUB"),B=(0,i.Z)(W,2),U=(B[0],B[1],(0,l.useState)("")),q=(0,i.Z)(U,2),E=q[0],I=q[1],T=(0,l.useState)(""),V=(0,i.Z)(T,2),z=V[0],A=V[1],F=(0,l.useState)(""),L=(0,i.Z)(F,2);return L[0],L[1],(0,l.useEffect)((function(){fetch("https://pop.applepodsblack.ru/api/products?populate=deep&pagination[limit]=1000").then((function(e){return e.json()})).then((function(e){var t,o,i,s=e.data,l="",n=(0,r.Z)(s);try{for(n.s();!(i=n.n()).done;){var p=i.value;p.id==window.GlobalProductId&&(l=p)}}catch(L){n.e(L)}finally{n.f()}var h=[],v=[];h[0]=l.attributes.name,h[1]=l.attributes.rub_price;var f,x=[],j=[],_=(0,r.Z)(l.attributes.colors.data);try{for(_.s();!(f=_.n()).done;){var g=f.value;j.push("https://pop.applepodsblack.ru/"+g.attributes.photo.data[0].attributes.url),x.push(g.attributes.name)}}catch(L){_.e(L)}finally{_.f()}var m,C=[],k=(0,r.Z)(null===(t=l)||void 0===t||null===(o=t.attributes)||void 0===o?void 0:o.photo.data);try{for(k.s();!(m=k.n()).done;){var Z,G=m.value;C.push("https://pop.applepodsblack.ru/"+(null===G||void 0===G||null===(Z=G.attributes)||void 0===Z?void 0:Z.url))}}catch(L){k.e(L)}finally{k.f()}0!=x.length?window.GlobalProductColor=x[0]:window.GlobalProductColor="\u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u0446\u0432\u0435\u0442",h[2]=v,h[3]=l.attributes.eur_price,h[4]=l.attributes.byn_price;var S=[],N=[];window.GlobalProductCategory=l.attributes.category;for(var W=0;W<v.length;W++)S.push((0,d.jsx)(a.o5,{children:(0,d.jsx)("img",{src:v[W],className:"product_img_carousel"})}));for(var B=0;B<C.length;B++)S.push((0,d.jsx)(a.o5,{children:(0,d.jsx)("img",{src:C[B],className:"product_img_carousel"})}));for(var U=function(e){N.push((0,d.jsx)("img",{className:"variant",src:j[e],onClick:function(){window.GlobalProductColor=x[e],A(window.GlobalProductColor)}}))},q=0;q<j.length;q++)U(q);var E,T=[],V=(0,r.Z)(l.attributes.stories.data);try{var z=function(){var e=E.value;T.push((0,d.jsx)(a.o5,{children:(0,d.jsxs)("div",{className:window.innerWidth<420?"teletype_block_small":"teletype_block",onClick:function(){u.openLink("".concat(e.attributes.link),{try_instant_view:!0})},children:[(0,d.jsx)("img",{src:"https://pop.applepodsblack.ru/"+e.attributes.photo.data[0].attributes.url,style:{position:"absolute",top:"0",left:"0",objectFit:"cover",width:"inherit",height:"inherit",zIndex:"-1",borderRadius:"16px"}}),(0,d.jsx)("div",{children:(0,d.jsx)("p",{children:e.attributes.name})})]})}))};for(V.s();!(E=V.n()).done;)z()}catch(L){V.e(L)}finally{V.f()}if("headphones"==l.attributes.category){var F=[];F.push((0,d.jsx)("div",{className:"audio_div",children:(0,d.jsx)("audio",{controls:!0,src:"https://pop.applepodsblack.ru/"+l.attributes.audio.data[0].attributes.url})})),I(F)}window.GlobalWatchColor="",P(T),b(N),y(S),console.log(v.length),c(h),R(h[1]),w(l.attributes.info),A(window.GlobalProductColor)}))}),[]),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{children:(0,d.jsx)(a.tq,{onSwiper:function(e){console.log(e),e},slidesPerView:1,modules:[n.W_],navigation:!0,allowTouchMove:!1,children:m})}),(0,d.jsxs)("div",{id:"main_product_info",children:[(0,d.jsx)("p",{id:"main_info_product_name",children:o[0]}),(0,d.jsx)("div",{className:"select_currency",children:(0,d.jsx)("p",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u043b\u044e\u0442\u0443"})}),(0,d.jsxs)("div",{id:"main_info_product_price",children:[(0,d.jsx)("p",{id:"gold_price",children:N}),(0,d.jsx)("div",{id:"main_info_currencylogo",children:(0,d.jsxs)("select",{id:"currency_choose",onChange:function(e){"rub"==e.target.value?R(o[1]):"eur"==e.target.value?R(o[3]):R(o[4])},children:[(0,d.jsx)("option",{value:"rub",children:"RUB"}),(0,d.jsx)("option",{value:"eur",children:"EUR"}),(0,d.jsx)("option",{value:"byn",children:"Br"})]})})]}),"watch"==window.GlobalProductCategory||"headphones"==window.GlobalProductCategory?(0,d.jsxs)("div",{id:"choose_color",children:[(0,d.jsxs)("p",{children:["\u0426\u0432\u0435\u0442 \u043a\u043e\u0440\u043f\u0443\u0441\u0430 ",(0,d.jsx)("p",{className:"current",children:z})]}),(0,d.jsx)("div",{className:"color_variants",children:v})]}):"","accessories"==window.GlobalProductCategory?"":(0,d.jsxs)("div",{id:"stories",children:[(0,d.jsx)("p",{children:"\u041f\u043e\u043b\u0435\u0437\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),(0,d.jsx)(a.tq,{slidesPerView:3,children:Z})]}),(0,d.jsx)("div",{id:"info_dropdown",children:(0,d.jsx)(s.Z,{content:j,header:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})}),(0,d.jsxs)("div",{id:"audio_ex",children:["headphones"==window.GlobalProductCategory?(0,d.jsx)("p",{id:"audio_header",children:"\u0422\u0435\u0441\u0442 \u043c\u0438\u043a\u0440\u043e\u0444\u043e\u043d\u0430"}):"",E]})]})]})}}}]);
//# sourceMappingURL=481.c263bed3.chunk.js.map