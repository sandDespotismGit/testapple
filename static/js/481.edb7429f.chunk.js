"use strict";(self.webpackChunkapplepods_react=self.webpackChunkapplepods_react||[]).push([[481],{4481:function(e,t,o){o.r(t);var r=o(7762),i=o(9439),a=o(9705),s=o(6671),l=o(2791),n=(o(6497),o(7576),o(6593),o(8870)),d=o(184);t.default=function(){(0,a.oc)();var e=(0,l.useState)(["\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","\u0446\u0435\u043d\u0430",["url","url"]]),t=(0,i.Z)(e,2),o=t[0],c=t[1],u=null,p=window.Telegram.WebApp,h=(0,l.useState)(""),v=(0,i.Z)(h,2),b=v[0],f=v[1],x=(0,l.useState)("\u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0435"),j=(0,i.Z)(x,2),w=j[0],_=j[1],g=(0,l.useState)(""),m=(0,i.Z)(g,2),y=m[0],C=m[1],k=(0,l.useState)(""),Z=(0,i.Z)(k,2),P=Z[0],G=Z[1],S=(0,l.useState)(0),N=(0,i.Z)(S,2),R=N[0],W=N[1],B=(0,l.useState)("RUB"),T=(0,i.Z)(B,2),U=(T[0],T[1],(0,l.useState)("")),q=(0,i.Z)(U,2),E=q[0],I=q[1],V=(0,l.useState)(""),z=(0,i.Z)(V,2),A=z[0],F=z[1],L=(0,l.useState)(""),M=(0,i.Z)(L,2);return M[0],M[1],(0,l.useEffect)((function(){fetch("https://pop.applepodsblack.ru/api/products?populate=deep&pagination[limit]=1000").then((function(e){return e.json()})).then((function(e){var t,o,i,s=e.data,l="",n=(0,r.Z)(s);try{for(n.s();!(i=n.n()).done;){var h=i.value;h.id==window.GlobalProductId&&(l=h)}}catch(L){n.e(L)}finally{n.f()}var v=[],b=[];v[0]=l.attributes.name,v[1]=l.attributes.rub_price;var x,j=[],w=(0,r.Z)(l.attributes.colors.data);try{for(w.s();!(x=w.n()).done;){var g=x.value;b.push("https://pop.applepodsblack.ru/"+g.attributes.photo.data[0].attributes.url),j.push(g.attributes.name)}}catch(L){w.e(L)}finally{w.f()}var m,y=[],k=(0,r.Z)(null===(t=l)||void 0===t||null===(o=t.attributes)||void 0===o?void 0:o.photo.data);try{for(k.s();!(m=k.n()).done;){var Z,P=m.value;y.push("https://pop.applepodsblack.ru/"+(null===P||void 0===P||null===(Z=P.attributes)||void 0===Z?void 0:Z.url))}}catch(L){k.e(L)}finally{k.f()}0!=j.length?window.GlobalProductColor=j[0]:window.GlobalProductColor="\u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u0446\u0432\u0435\u0442",v[2]=b,v[3]=l.attributes.eur_price,v[4]=l.attributes.byn_price;var S=[],N=[];window.GlobalProductCategory=l.attributes.category;for(var R=0;R<b.length;R++)S.push((0,d.jsx)(a.o5,{children:(0,d.jsx)("img",{src:b[R],className:"product_img_carousel"})}));for(var B=0;B<y.length;B++)S.push((0,d.jsx)(a.o5,{children:(0,d.jsx)("img",{src:y[B],className:"product_img_carousel"})}));for(var T=function(e){N.push((0,d.jsx)("img",{className:"variant",src:b[e],onClick:function(){var t;window.GlobalProductColor=j[e-1],F(window.GlobalProductColor),t=e,u.slideTo(t)}}))},U=1;U<b.length;U++)T(U);var q,E=[],V=(0,r.Z)(l.attributes.stories.data);try{var z=function(){var e=q.value;E.push((0,d.jsx)(a.o5,{children:(0,d.jsxs)("div",{className:window.innerWidth<420?"teletype_block_small":"teletype_block",onClick:function(){p.openLink("".concat(e.attributes.link),{try_instant_view:!0})},children:[(0,d.jsx)("img",{src:"https://pop.applepodsblack.ru/"+e.attributes.photo.data[0].attributes.url,style:{position:"absolute",top:"0",left:"0",objectFit:"cover",width:"inherit",height:"inherit",zIndex:"-1",borderRadius:"16px"}}),(0,d.jsx)("div",{children:(0,d.jsx)("p",{children:e.attributes.name})})]})}))};for(V.s();!(q=V.n()).done;)z()}catch(L){V.e(L)}finally{V.f()}if("headphones"==l.attributes.category){var A=[];A.push((0,d.jsx)("div",{className:"audio_div",children:(0,d.jsx)("audio",{controls:!0,src:"https://pop.applepodsblack.ru/"+l.attributes.audio.data[0].attributes.url})})),I(A)}window.GlobalWatchColor="",G(E),f(N),C(S),console.log(b.length),c(v),W(v[1]),_(l.attributes.info),F(window.GlobalProductColor)}))}),[]),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{children:(0,d.jsx)(a.tq,{onSwiper:function(e){console.log(e),u=e},slidesPerView:1,modules:[n.W_],navigation:!0,allowTouchMove:!1,children:y})}),(0,d.jsxs)("div",{id:"main_product_info",children:[(0,d.jsx)("p",{id:"main_info_product_name",children:o[0]}),(0,d.jsx)("div",{className:"select_currency",children:(0,d.jsx)("p",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u043b\u044e\u0442\u0443"})}),(0,d.jsxs)("div",{id:"main_info_product_price",children:[(0,d.jsx)("p",{id:"gold_price",children:R}),(0,d.jsx)("div",{id:"main_info_currencylogo",children:(0,d.jsxs)("select",{id:"currency_choose",onChange:function(e){"rub"==e.target.value?W(o[1]):"eur"==e.target.value?W(o[3]):W(o[4])},children:[(0,d.jsx)("option",{value:"rub",children:"RUB"}),(0,d.jsx)("option",{value:"eur",children:"EUR"}),(0,d.jsx)("option",{value:"byn",children:"Br"})]})})]}),"watch"==window.GlobalProductCategory||"headphones"==window.GlobalProductCategory?(0,d.jsxs)("div",{id:"choose_color",children:[(0,d.jsxs)("p",{children:["\u0426\u0432\u0435\u0442 \u043a\u043e\u0440\u043f\u0443\u0441\u0430 ",(0,d.jsx)("p",{className:"current",children:A})]}),(0,d.jsx)("div",{className:"color_variants",children:b})]}):"","accessories"==window.GlobalProductCategory?"":(0,d.jsxs)("div",{id:"stories",children:[(0,d.jsx)("p",{children:"\u041f\u043e\u043b\u0435\u0437\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),(0,d.jsx)(a.tq,{slidesPerView:3,children:P})]}),(0,d.jsx)("div",{id:"info_dropdown",children:(0,d.jsx)(s.Z,{content:w,header:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})}),(0,d.jsxs)("div",{id:"audio_ex",children:["headphones"==window.GlobalProductCategory?(0,d.jsx)("p",{id:"audio_header",children:"\u0422\u0435\u0441\u0442 \u043c\u0438\u043a\u0440\u043e\u0444\u043e\u043d\u0430"}):"",E]})]})]})}}}]);
//# sourceMappingURL=481.edb7429f.chunk.js.map