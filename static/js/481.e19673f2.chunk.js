"use strict";(self.webpackChunkapplepods_react=self.webpackChunkapplepods_react||[]).push([[481],{4481:function(e,t,o){o.r(t);var r=o(7762),a=o(9439),i=o(9705),s=o(6671),l=o(2791),n=o(8121),d=(o(6497),o(7576),o(6593),o(8870)),c=(o(8007),o(184));t.default=function(){var e=(0,l.useState)(["\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","\u0446\u0435\u043d\u0430",["url","url"]]),t=(0,a.Z)(e,2),o=t[0],u=t[1],p=window.Telegram.WebApp,h=(0,l.useState)(""),v=(0,a.Z)(h,2),b=v[0],f=v[1],x=(0,l.useState)("\u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0435"),j=(0,a.Z)(x,2),w=j[0],_=j[1],g=(0,l.useState)(""),m=(0,a.Z)(g,2),y=m[0],C=m[1],k=(0,l.useState)(""),Z=(0,a.Z)(k,2),P=Z[0],G=Z[1],N=(0,l.useState)(0),S=(0,a.Z)(N,2),W=S[0],I=S[1],R=(0,l.useState)(""),q=(0,a.Z)(R,2),A=q[0],B=q[1],E=(0,l.useState)(""),T=(0,a.Z)(E,2),U=T[0],V=T[1];return(0,l.useEffect)((function(){fetch("https://pop.applepodsblack.ru/api/products?populate=deep&pagination[limit]=100").then((function(e){return e.json()})).then((function(e){var t,o,a,s=e.data,l="",n=(0,r.Z)(s);try{for(n.s();!(a=n.n()).done;){var d=a.value;d.id==window.GlobalProductId&&(l=d)}}catch(M){n.e(M)}finally{n.f()}var h=[],v=[];h[0]=l.attributes.name,h[1]=l.attributes.rub_price;var x,j=[],w=[],g=(0,r.Z)(l.attributes.colors.data);try{for(g.s();!(x=g.n()).done;){var m=x.value;w.push("https://pop.applepodsblack.ru/"+m.attributes.photo.data[0].attributes.url),j.push(m.attributes.name)}}catch(M){g.e(M)}finally{g.f()}var y,k=[],Z=(0,r.Z)(null===(t=l)||void 0===t||null===(o=t.attributes)||void 0===o?void 0:o.photo.data);try{for(Z.s();!(y=Z.n()).done;){var P,N=y.value;k.push("https://pop.applepodsblack.ru/"+(null===N||void 0===N||null===(P=N.attributes)||void 0===P?void 0:P.url))}}catch(M){Z.e(M)}finally{Z.f()}0!=j.length?window.GlobalProductColor=j[0]:window.GlobalProductColor="\u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u0446\u0432\u0435\u0442",h[2]=v,h[3]=l.attributes.eur_price,h[4]=l.attributes.byn_price;var S=[],W=[];window.GlobalProductCategory=l.attributes.category;for(var R=0;R<v.length;R++)S.push((0,c.jsx)(i.o5,{children:(0,c.jsx)("img",{src:v[R],className:"product_img_carousel"})}));for(var q=0;q<k.length;q++)S.push((0,c.jsx)(i.o5,{children:(0,c.jsx)("img",{src:k[q],className:"product_img_carousel"})}));for(var A=function(e){W.push((0,c.jsx)("img",{className:"variant",src:w[e],onClick:function(){window.GlobalProductColor=j[e],V(window.GlobalProductColor),function(e){var t=Array.from(b);console.log(t);for(var o=0;o<t.length;o++)t[o].props.className="variant";t[e].props.className="variant_gold",f(t)}(e)}}))},E=0;E<w.length;E++)A(E);var T,U=[],z=(0,r.Z)(l.attributes.stories.data);try{var F=function(){var e=T.value;U.push((0,c.jsx)(i.o5,{children:(0,c.jsxs)("div",{className:window.innerWidth<420?"teletype_block_small":"teletype_block",onClick:function(){p.openLink("".concat(e.attributes.link),{try_instant_view:!0})},children:[(0,c.jsx)("img",{src:"https://pop.applepodsblack.ru/"+e.attributes.photo.data[0].attributes.url,style:{position:"absolute",top:"0",left:"0",objectFit:"cover",width:"inherit",height:"inherit",zIndex:"-1",borderRadius:"16px"}}),(0,c.jsx)("div",{children:(0,c.jsx)("p",{children:e.attributes.name})})]})}))};for(z.s();!(T=z.n()).done;)F()}catch(M){z.e(M)}finally{z.f()}if("headphones"==l.attributes.category){var L=[];L.push((0,c.jsx)("div",{className:"audio_div",children:(0,c.jsx)("audio",{controls:!0,src:"https://pop.applepodsblack.ru/"+l.attributes.audio.data[0].attributes.url})})),B(L)}window.GlobalWatchColor="",G(U),f(W),C(S),console.log(v.length),u(h),I(h[1]),_(l.attributes.info),V(window.GlobalProductColor)}))}),[]),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:(0,c.jsx)(i.tq,{onSwiper:function(e){console.log(e)},slidesPerView:1,modules:[d.W_],navigation:!0,allowTouchMove:!1,children:y})}),(0,c.jsxs)("div",{id:"main_product_info",children:[(0,c.jsx)("p",{id:"main_info_product_name",children:o[0]}),(0,c.jsx)("div",{className:"select_currency",children:(0,c.jsx)("p",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u043b\u044e\u0442\u0443"})}),(0,c.jsxs)("div",{id:"main_info_product_price",children:[(0,c.jsx)("p",{id:"gold_price",children:W}),(0,c.jsx)("div",{id:"main_info_currencylogo",children:(0,c.jsxs)("select",{id:"currency_choose",onChange:function(e){"rub"==e.target.value?I(o[1]):"eur"==e.target.value?I(o[3]):I(o[4])},children:[(0,c.jsx)("option",{value:"rub",children:"RUB"}),(0,c.jsx)("option",{value:"eur",children:"EUR"}),(0,c.jsx)("option",{value:"byn",children:"Br"})]})})]}),"watch"==window.GlobalProductCategory||"headphones"==window.GlobalProductCategory||"dyson"==window.GlobalProductCategory?(0,c.jsxs)("div",{id:"choose_color",children:[(0,c.jsxs)("p",{children:["\u0426\u0432\u0435\u0442 \u043a\u043e\u0440\u043f\u0443\u0441\u0430 ",(0,c.jsx)("p",{className:"current",children:U})]}),(0,c.jsx)("div",{className:"color_variants",children:b})]}):"",(0,c.jsxs)("div",{id:"stories",children:[(0,c.jsx)("p",{children:"\u041f\u043e\u043b\u0435\u0437\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),(0,c.jsx)(i.tq,{slidesPerView:3,autoplay:{delay:5e3,disableOnInteraction:!1},modules:[d.pt],children:P})]}),(0,c.jsx)("div",{id:"info_dropdown",children:(0,c.jsx)(s.Z,{content:(0,n.Z)(w),header:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})}),(0,c.jsxs)("div",{id:"audio_ex",children:["headphones"==window.GlobalProductCategory?(0,c.jsx)("p",{id:"audio_header",children:"\u0422\u0435\u0441\u0442 \u043c\u0438\u043a\u0440\u043e\u0444\u043e\u043d\u0430"}):"",A]})]})]})}}}]);
//# sourceMappingURL=481.e19673f2.chunk.js.map